{ erl_opts, [
    debug_info,
    {parse_transform, lager_transform}
]}.

{ deps, [
    {escalus, {git, "https://github.com/esl/escalus.git", {ref, "e85f0c7"}}},
    {amoc, {git, "https://github.com/esl/amoc", {ref, "e21545819f52ac6d6310922fae42450000e8d1be"}}},
    {lager, "3.6.8"}
]}.

{ xref_checks, [
    %% enable most checks, but avoid 'unused calls' which makes amoc-arsenal fail...
    undefined_function_calls, undefined_functions, locals_not_used,
    deprecated_function_calls, deprecated_functions
]}.

{ relx, [
    {release, {amoc_arsenal_xmpp, {git, short}}, [amoc_arsenal_xmpp]},
    {dev_mode, false},
    {include_src, false},
    {include_erts, true},
    {extended_start_script, true},
    {sys_config, "rel/app.config"}
  ]}.

